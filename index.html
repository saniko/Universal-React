<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Universal-React by saniko</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Universal-React</h1>
      <h2 class="project-tagline">React Universal Explained - Educational Purposes</h2>
      <a href="https://github.com/saniko/Universal-React" class="btn">View on GitHub</a>
      <a href="https://github.com/saniko/Universal-React/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/saniko/Universal-React/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="universal-react" class="anchor" href="#universal-react" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Universal-React</h1>

<p>React Universal Explained - Educational Purposes,
Will evolve with time to full universal react app<br>
Part of Dani Koren's personal <a href="https://saniko.github.io/danikoren/">blog.</a></p>

<p>For an excellent starting point to those who seek to understand the modern javascript technology stack click <a href="https://github.com/saniko/js-stack-from-scratch">here</a>.<br>
To understand the concept of reactive programming click <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754">here</a>.<br><br></p>

<h1>
<a id="universal-app---main-players-on-server-side" class="anchor" href="#universal-app---main-players-on-server-side" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Universal app - main players on server side:</h1>

<ol>
<li>react</li>
<li>react-router - <a href="https://github.com/ReactTraining/react-router/blob/master/docs/guides/ServerRendering.md">https://github.com/ReactTraining/react-router/blob/master/docs/guides/ServerRendering.md</a>

<ol>
<li>match - to match the routes to a location without rendering.</li>
<li>RouterContext - for synchronous rendering of route components, Once we have a match RouterContext will render the component tree for the given router state and return the component markup as a string with the help of renderToString method.</li>
<li>createRoutes - to create a set of routes from our router.js file component and provide it to match.</li>
<li>createMemoryHistory - This is useful for when you need to customize the history object used for server-side rendering.</li>
</ol>
</li>
<li>react-redux - <a href="http://redux.js.org/docs/recipes/ServerRendering.html">http://redux.js.org/docs/recipes/ServerRendering.html</a>

<ol>
<li>very short redux explanation: <a href="http://slides.com/jenyaterpil/redux-from-twitter-hype-to-production#/9">http://slides.com/jenyaterpil/redux-from-twitter-hype-to-production#/9</a>
</li>
<li>TL;DR - Redux: Redux at its most minimal is the store, actions, and reducers. Connecting React to Redux involves wrapping your     entire app in theProvider component, and then connecting components, usingmapStateToProps and mapDispatchToProps as appropriate.</li>
<li>check this out: <a href="https://tech.affirm.com/redux-patterns-and-anti-patterns-7d80ef3d53bc#.rznvukc9g">https://tech.affirm.com/redux-patterns-and-anti-patterns-7d80ef3d53bc#.rznvukc9g</a>
</li>
<li>good read about <a href="https://medium.com/javascript-scene/10-tips-for-better-redux-architecture-69250425af44#.c16bnn710">redux</a>
</li>
</ol>
</li>
</ol>

<h1>
<a id="universal-app---why" class="anchor" href="#universal-app---why" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Universal app - Why?</h1>

<ol>
<li>SEO</li>
<li>Performance (initial load time)</li>
<li>Cross device support</li>
<li>Same code base (sharing of logic)</li>
<li>Catching current trends ;)</li>
<li>Non js users (?)</li>
</ol>

<p>In general, benefits for engineering, reusability, performance and SEO</p>

<h1>
<a id="universal-app---how" class="anchor" href="#universal-app---how" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Universal app - How?</h1>

<ol>
<li>Handle the initial render when a user (or search engine crawler) first requests our app. When the server receives the request, it        renders the required component(s) into an HTML string, and then sends it as a response to the client. From that point on, the client     takes over rendering duties.</li>
<li>Send the state of our app along in our response, so the client can use it as the initial state. if we preload any data before            generating the HTML, we want the client to also have access to this data. Otherwise, the markup generated on the client wonâ€™t match      the server markup, and the client would have to load the data again.</li>
<li>Create a fresh, new Redux store instance on every request.On the client side, a new Redux store will be created and initialized with     the state provided from the server.</li>
<li>Optionally dispatch some actions.</li>
<li>Pull the state out of store.</li>
<li>Pass the state along to the client (dehydration - extract the current state of an app and serialize it into an object * ).</li>
<li>Package &amp; send the HTML to the client</li>
<li>On the client side, a new Redux store will be created and initialized with the state provided from the server.
Redux's only job on the server side is to provide the initial state of our app.</li>
</ol>

<p>Check server.js for detailed comments.</p>

<h1>
<a id="universal-app---problems" class="anchor" href="#universal-app---problems" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Universal app - Problems?</h1>

<p>One downside of SSR is a huge performance hit on <b>complex components</b><br></p>

<p>One can try and mitigate this by implementing <a href="https://medium.com/walmartlabs/reactjs-ssr-profiling-and-caching-5d8e9e49240c#.ucelx81s6">cache techniques</a> and <a href="https://www.youtube.com/watch?v=sn-C_DKLKPE">Component Memoization techniques</a><br>
<br>Consider this: <a href="http://www.electrode.io/docs/server_side_render_cache.html">Server Side Render Caching + Profiling</a>
<br> check <a href="https://github.com/walmartlabs/react-ssr-optimization">this</a>
<br> check <a href="https://github.com/docs-code-examples-electrode-io/express-react-redux-webpack">this</a></p>

<h1>
<a id="general" class="anchor" href="#general" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>General:</h1>

<h1>
<a id="" class="anchor" href="#" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>*</h1>

<p>Say I want to pre-render my app on the server, serve the html to the client, then re-render my app on the client. This would be trivial if my app only consisted of static data. However, my app is stateful: it retrieves data from my API before the initial render and stores it. By extracting the state of my app on the server, sending it along with the HTML, then reinjecting it on the client, I avoid making two requests to my API.
for more see: <a href="http://stackoverflow.com/questions/29824908/what-does-dehydrate-and-rehydrate-stand-for-in-fluxible">http://stackoverflow.com/questions/29824908/what-does-dehydrate-and-rehydrate-stand-for-in-fluxible</a>
<br>
<br></p>

<h1>
<a id="some-usfeul-links" class="anchor" href="#some-usfeul-links" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Some usfeul links</h1>

<p><a href="http://crypt.codemancers.com/posts/2016-09-16-react-server-side-rendering/">http://crypt.codemancers.com/posts/2016-09-16-react-server-side-rendering/</a><br>
<a href="https://medium.com/@foxhound87/server-side-rendering-with-react-router-we-must-react-ep-04-ad03b6b9e05d#.tjpc0sacq">https://medium.com/@foxhound87/server-side-rendering-with-react-router-we-must-react-ep-04-ad03b6b9e05d#.tjpc0sacq</a><br>
<a href="https://medium.com/@foxhound87/state-management-hydration-with-mobx-we-must-react-ep-05-1922a72453c6#.kd04w71a9">https://medium.com/@foxhound87/state-management-hydration-with-mobx-we-must-react-ep-05-1922a72453c6#.kd04w71a9</a></p>

<h1>
<a id="forward-work" class="anchor" href="#forward-work" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Forward work</h1>

<ol>
<li>What about social login - <a href="https://hashnode.com/post/how-to-implement-social-login-in-a-universal-react-app-cityl0c1901zy8t535xj7ox24">https://hashnode.com/post/how-to-implement-social-login-in-a-universal-react-app-cityl0c1901zy8t535xj7ox24</a>
</li>
</ol>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/saniko/Universal-React">Universal-React</a> is maintained by <a href="https://github.com/saniko">saniko</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
